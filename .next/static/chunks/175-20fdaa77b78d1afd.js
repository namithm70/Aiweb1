"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{2637:function(e,s,t){var l=t(5893),a=t(7294),i=t(6781),n=t(1163),r=t(1664),c=t.n(r),d=t(9037),o=t(9135),x=t(3340),h=t(1594),m=t(172),u=t(3950),f=t(3854),v=t(4981);s.Z=e=>{var s;let{children:t}=e,{user:r,logout:p}=(0,i.a)(),g=(0,n.useRouter)(),[j,N]=(0,a.useState)(!1),b=[{name:"Dashboard",href:"/",icon:d.Z,emoji:"\uD83C\uDFE0"},{name:"Documents",href:"/documents",icon:o.Z,emoji:"\uD83D\uDCC2"},{name:"AI Chat",href:"/chat",icon:x.Z,emoji:"\uD83E\uDD16"}],w=()=>{p(),g.push("/login")};return r?(0,l.jsxs)("div",{className:"min-h-screen relative",children:[(0,l.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[(0,l.jsx)("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl floating"}),(0,l.jsx)("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-2s"}}),(0,l.jsx)("div",{className:"absolute top-1/2 left-3/4 w-80 h-80 bg-pink-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-4s"}})]}),(0,l.jsx)("div",{className:"lg:hidden ".concat(j?"block":"hidden"),children:(0,l.jsxs)("div",{className:"fixed inset-0 flex z-50",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>N(!1)}),(0,l.jsx)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full",children:(0,l.jsxs)("div",{className:"glass-dark h-full flex flex-col",children:[(0,l.jsx)("div",{className:"absolute top-4 right-4",children:(0,l.jsx)("button",{type:"button",className:"glass-button p-2 text-white hover:scale-110",onClick:()=>N(!1),children:(0,l.jsx)(h.Z,{className:"h-5 w-5"})})}),(0,l.jsxs)("div",{className:"flex-1 pt-5 pb-4 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex-shrink-0 flex items-center px-6 mb-8",children:[(0,l.jsx)(m.Z,{className:"h-8 w-8 text-white mr-3"}),(0,l.jsx)("h1",{className:"text-2xl font-bold gradient-text",children:"PDF-QA"})]}),(0,l.jsx)("nav",{className:"px-4 space-y-2",children:b.map(e=>{let s=g.pathname===e.href;return(0,l.jsxs)(c(),{href:e.href,onClick:()=>N(!1),className:"".concat(s?"glass-button bg-white/20 text-white":"glass-button hover:bg-white/10 text-white/80 hover:text-white"," group flex items-center px-4 py-3 text-base font-medium rounded-xl transition-all duration-200"),children:[(0,l.jsx)("span",{className:"text-2xl mr-3",children:e.emoji}),e.name]},e.name)})})]})]})})]})}),(0,l.jsx)("div",{className:"hidden lg:flex lg:w-72 lg:flex-col lg:fixed lg:inset-y-0 z-40",children:(0,l.jsxs)("div",{className:"glass-dark h-full flex flex-col m-4 rounded-3xl",children:[(0,l.jsxs)("div",{className:"flex-1 flex flex-col pt-8 pb-4 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center flex-shrink-0 px-8 mb-8",children:[(0,l.jsx)(m.Z,{className:"h-10 w-10 text-white mr-4"}),(0,l.jsx)("h1",{className:"text-3xl font-bold gradient-text",children:"PDF-QA"})]}),(0,l.jsx)("nav",{className:"flex-1 px-6 space-y-3",children:b.map(e=>{let s=g.pathname===e.href;return(0,l.jsxs)(c(),{href:e.href,className:"".concat(s?"glass-button bg-white/20 text-white border-white/30 glow":"glass-button hover:bg-white/10 text-white/80 hover:text-white border-white/10 hover:border-white/20"," group flex items-center px-6 py-4 text-lg font-medium rounded-xl transition-all duration-300 hover:scale-105"),children:[(0,l.jsx)("span",{className:"text-3xl mr-4",children:e.emoji}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{children:e.name}),s&&(0,l.jsx)("span",{className:"text-xs text-white/60",children:"Currently active"})]})]},e.name)})})]}),(0,l.jsx)("div",{className:"flex-shrink-0 p-6",children:(0,l.jsx)("div",{className:"glass-card p-4 hover:scale-105 transition-all duration-300",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"h-12 w-12 glass-button flex items-center justify-center rounded-full",children:(0,l.jsx)(u.Z,{className:"h-6 w-6 text-white"})})}),(0,l.jsxs)("div",{className:"ml-4 flex-1",children:[(0,l.jsxs)("p",{className:"text-lg font-medium text-white truncate",children:["\uD83D\uDC4B ",null===(s=r.email)||void 0===s?void 0:s.split("@")[0]]}),(0,l.jsx)("p",{className:"text-sm text-white/60 capitalize",children:r.role})]}),(0,l.jsx)("button",{onClick:w,className:"ml-3 glass-button p-2 text-white/80 hover:text-white hover:bg-red-500/20 transition-all duration-200",title:"Sign out",children:(0,l.jsx)(f.Z,{className:"h-5 w-5"})})]})})})]})}),(0,l.jsxs)("div",{className:"lg:pl-80 flex flex-col flex-1 relative z-10",children:[(0,l.jsx)("div",{className:"lg:hidden",children:(0,l.jsx)("div",{className:"glass fixed top-0 w-full z-30",children:(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,l.jsx)("button",{type:"button",className:"glass-button p-2 text-white hover:scale-110",onClick:()=>N(!0),children:(0,l.jsx)(v.Z,{className:"h-6 w-6"})}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(m.Z,{className:"h-6 w-6 text-white mr-2"}),(0,l.jsx)("h1",{className:"text-xl font-bold gradient-text",children:"PDF-QA"})]}),(0,l.jsx)("button",{onClick:w,className:"glass-button p-2 text-white/80 hover:text-white hover:bg-red-500/20",children:(0,l.jsx)(f.Z,{className:"h-5 w-5"})})]})})}),(0,l.jsx)("main",{className:"flex-1 lg:pt-8 pt-24",children:(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto",children:t})})})]})]}):(0,l.jsxs)("div",{className:"min-h-screen relative",children:[(0,l.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[(0,l.jsx)("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl floating"}),(0,l.jsx)("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-2s"}}),(0,l.jsx)("div",{className:"absolute top-1/2 left-3/4 w-80 h-80 bg-pink-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-4s"}})]}),(0,l.jsx)("div",{className:"relative z-10",children:t})]})}},6805:function(e,s,t){t.d(s,{s:function(){return i}});var l=t(7294),a=t(2450);let i=()=>{let[e,s]=(0,l.useState)({documents:[],loading:!1,error:void 0}),t=async()=>{s(e=>({...e,loading:!0,error:void 0}));try{let e=await a.tG.getDocuments();s({documents:e,loading:!1,error:void 0})}catch(t){let e=(0,a.zG)(t);s(s=>({...s,loading:!1,error:e.detail}))}},i=async(e,t)=>{try{let l=await a.tG.uploadDocument(e,t),i={id:l.doc_id,user_id:"",name:e.name,size:e.size,mime_type:e.type,status:"processing",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return s(e=>({...e,documents:[i,...e.documents]})),c(l.doc_id),l}catch(e){throw(0,a.zG)(e)}},n=async e=>{try{await a.tG.deleteDocument(e),s(s=>({...s,documents:s.documents.filter(s=>s.id!==e)}))}catch(e){throw(0,a.zG)(e)}},r=(e,t)=>{s(s=>({...s,documents:s.documents.map(s=>s.id===e?{...s,...t}:s)}))},c=async e=>{let s=0,t=async()=>{if(s>=60){r(e,{status:"failed",error:"Processing timeout"});return}try{let l=await a.tG.getDocumentStatus(e);r(e,l),"processing"===l.status&&(s++,setTimeout(t,5e3))}catch(s){r(e,{status:"failed",error:"Status check failed"})}};t()},d=s=>e.documents.filter(e=>e.status===s);return(0,l.useEffect)(()=>{t()},[]),{...e,loadDocuments:t,uploadDocument:i,deleteDocument:n,updateDocumentStatus:r,getDocumentsByStatus:d,getDocumentById:s=>e.documents.find(e=>e.id===s),clearError:()=>{s(e=>({...e,error:void 0}))},processingCount:d("processing").length,readyCount:d("ready").length,failedCount:d("failed").length}}}}]);