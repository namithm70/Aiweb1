exports.id=309,exports.ids=[309],exports.modules={253:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var a=r(997),s=r(6689),l=r(498),n=r(1163),i=r(1664),o=r.n(i);let d=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});var c=r(4662);let u=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"}))}),h=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});var m=r(5199),x=r(4163);let f=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}),g=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}),p=({children:e})=>{let{user:t,logout:r}=(0,l.a)(),i=(0,n.useRouter)(),[p,w]=(0,s.useState)(!1),v=[{name:"Dashboard",href:"/",icon:d,emoji:"\uD83C\uDFE0"},{name:"Documents",href:"/documents",icon:c.Z,emoji:"\uD83D\uDCC2"},{name:"AI Chat",href:"/chat",icon:u,emoji:"\uD83E\uDD16"}],j=()=>{r(),i.push("/login")};return t?(0,a.jsxs)("div",{className:"min-h-screen relative",children:[(0,a.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl floating"}),a.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-2s"}}),a.jsx("div",{className:"absolute top-1/2 left-3/4 w-80 h-80 bg-pink-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-4s"}})]}),a.jsx("div",{className:`lg:hidden ${p?"block":"hidden"}`,children:(0,a.jsxs)("div",{className:"fixed inset-0 flex z-50",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>w(!1)}),a.jsx("div",{className:"relative flex-1 flex flex-col max-w-xs w-full",children:(0,a.jsxs)("div",{className:"glass-dark h-full flex flex-col",children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx("button",{type:"button",className:"glass-button p-2 text-white hover:scale-110",onClick:()=>w(!1),children:a.jsx(h,{className:"h-5 w-5"})})}),(0,a.jsxs)("div",{className:"flex-1 pt-5 pb-4 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center px-6 mb-8",children:[a.jsx(m.Z,{className:"h-8 w-8 text-white mr-3"}),a.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"PDF-QA"})]}),a.jsx("nav",{className:"px-4 space-y-2",children:v.map(e=>{let t=i.pathname===e.href;return(0,a.jsxs)(o(),{href:e.href,onClick:()=>w(!1),className:`${t?"glass-button bg-white/20 text-white":"glass-button hover:bg-white/10 text-white/80 hover:text-white"} group flex items-center px-4 py-3 text-base font-medium rounded-xl transition-all duration-200`,children:[a.jsx("span",{className:"text-2xl mr-3",children:e.emoji}),e.name]},e.name)})})]})]})})]})}),a.jsx("div",{className:"hidden lg:flex lg:w-72 lg:flex-col lg:fixed lg:inset-y-0 z-40",children:(0,a.jsxs)("div",{className:"glass-dark h-full flex flex-col m-4 rounded-3xl",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col pt-8 pb-4 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center flex-shrink-0 px-8 mb-8",children:[a.jsx(m.Z,{className:"h-10 w-10 text-white mr-4"}),a.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"PDF-QA"})]}),a.jsx("nav",{className:"flex-1 px-6 space-y-3",children:v.map(e=>{let t=i.pathname===e.href;return(0,a.jsxs)(o(),{href:e.href,className:`${t?"glass-button bg-white/20 text-white border-white/30 glow":"glass-button hover:bg-white/10 text-white/80 hover:text-white border-white/10 hover:border-white/20"} group flex items-center px-6 py-4 text-lg font-medium rounded-xl transition-all duration-300 hover:scale-105`,children:[a.jsx("span",{className:"text-3xl mr-4",children:e.emoji}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{children:e.name}),t&&a.jsx("span",{className:"text-xs text-white/60",children:"Currently active"})]})]},e.name)})})]}),a.jsx("div",{className:"flex-shrink-0 p-6",children:a.jsx("div",{className:"glass-card p-4 hover:scale-105 transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-12 w-12 glass-button flex items-center justify-center rounded-full",children:a.jsx(x.Z,{className:"h-6 w-6 text-white"})})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsxs)("p",{className:"text-lg font-medium text-white truncate",children:["\uD83D\uDC4B ",t.email?.split("@")[0]]}),a.jsx("p",{className:"text-sm text-white/60 capitalize",children:t.role})]}),a.jsx("button",{onClick:j,className:"ml-3 glass-button p-2 text-white/80 hover:text-white hover:bg-red-500/20 transition-all duration-200",title:"Sign out",children:a.jsx(f,{className:"h-5 w-5"})})]})})})]})}),(0,a.jsxs)("div",{className:"lg:pl-80 flex flex-col flex-1 relative z-10",children:[a.jsx("div",{className:"lg:hidden",children:a.jsx("div",{className:"glass fixed top-0 w-full z-30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[a.jsx("button",{type:"button",className:"glass-button p-2 text-white hover:scale-110",onClick:()=>w(!0),children:a.jsx(g,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(m.Z,{className:"h-6 w-6 text-white mr-2"}),a.jsx("h1",{className:"text-xl font-bold gradient-text",children:"PDF-QA"})]}),a.jsx("button",{onClick:j,className:"glass-button p-2 text-white/80 hover:text-white hover:bg-red-500/20",children:a.jsx(f,{className:"h-5 w-5"})})]})})}),a.jsx("main",{className:"flex-1 lg:pt-8 pt-24",children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:e})})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen relative",children:[(0,a.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-400/10 rounded-full blur-3xl floating"}),a.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-2s"}}),a.jsx("div",{className:"absolute top-1/2 left-3/4 w-80 h-80 bg-pink-400/10 rounded-full blur-3xl floating",style:{animationDelay:"-4s"}})]}),a.jsx("div",{className:"relative z-10",children:e})]})}},498:(e,t,r)=>{"use strict";r.d(t,{H:()=>i,a:()=>o});var a=r(6689),s=r.n(a),l=r(6091);let n=(0,a.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,a.useState)({user:null,token:null,loading:!0,error:void 0});(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("auth_token");if(e)try{(0,l.uB)(e);let t=await l.iJ.getCurrentUser();r({user:t,token:e,loading:!1,error:void 0})}catch(e){(0,l.uB)(null),r({user:null,token:null,loading:!1,error:void 0})}else r(e=>({...e,loading:!1}))})()},[]);let i=async(e,t)=>{r(e=>({...e,loading:!0,error:void 0}));try{let a=await l.iJ.login(e,t);(0,l.uB)(a.access_token),r({user:a.user,token:a.access_token,loading:!1,error:void 0})}catch(t){let e=(0,l.zG)(t);throw r(t=>({...t,loading:!1,error:e.detail})),t}},o=async(e,t)=>{r(e=>({...e,loading:!0,error:void 0}));try{let a=await l.iJ.register(e,t);(0,l.uB)(a.access_token),r({user:a.user,token:a.access_token,loading:!1,error:void 0})}catch(t){let e=(0,l.zG)(t);throw r(t=>({...t,loading:!1,error:e.detail})),t}},d={...t,login:i,register:o,logout:()=>{(0,l.uB)(null),r({user:null,token:null,loading:!1,error:void 0})},clearError:()=>{r(e=>({...e,error:void 0}))}};return s().createElement(n.Provider,{value:d},e)},o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6179:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var a=r(6689),s=r(6091);let l=()=>{let[e,t]=(0,a.useState)({documents:[],loading:!1,error:void 0}),r=async()=>{t(e=>({...e,loading:!0,error:void 0}));try{let e=await s.tG.getDocuments();t({documents:e,loading:!1,error:void 0})}catch(r){let e=(0,s.zG)(r);t(t=>({...t,loading:!1,error:e.detail}))}},l=async(e,r)=>{try{let a=await s.tG.uploadDocument(e,r),l={id:a.doc_id,user_id:"",name:e.name,size:e.size,mime_type:e.type,status:"processing",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t(e=>({...e,documents:[l,...e.documents]})),o(a.doc_id),a}catch(e){throw(0,s.zG)(e)}},n=async e=>{try{await s.tG.deleteDocument(e),t(t=>({...t,documents:t.documents.filter(t=>t.id!==e)}))}catch(e){throw(0,s.zG)(e)}},i=(e,r)=>{t(t=>({...t,documents:t.documents.map(t=>t.id===e?{...t,...r}:t)}))},o=async e=>{let t=0,r=async()=>{if(t>=60){i(e,{status:"failed",error:"Processing timeout"});return}try{let a=await s.tG.getDocumentStatus(e);i(e,a),"processing"===a.status&&(t++,setTimeout(r,5e3))}catch(t){i(e,{status:"failed",error:"Status check failed"})}};r()},d=t=>e.documents.filter(e=>e.status===t);return(0,a.useEffect)(()=>{r()},[]),{...e,loadDocuments:r,uploadDocument:l,deleteDocument:n,updateDocumentStatus:i,getDocumentsByStatus:d,getDocumentById:t=>e.documents.find(e=>e.id===t),clearError:()=>{t(e=>({...e,error:void 0}))},processingCount:d("processing").length,readyCount:d("ready").length,failedCount:d("failed").length}}},6091:(e,t,r)=>{"use strict";r.d(t,{iJ:()=>d,p6:()=>x,sS:()=>m,tG:()=>c,uB:()=>o,xU:()=>u,zG:()=>h});var a=r(2167),s=r.n(a);let l="https://aiweb1-c965.onrender.com",n=s().create({baseURL:l,timeout:3e4,headers:{"Content-Type":"application/json"}}),i=null,o=e=>{i=e,e?(n.defaults.headers.Authorization=`Bearer ${e}`,localStorage.setItem("auth_token",e)):(delete n.defaults.headers.Authorization,localStorage.removeItem("auth_token"))};n.interceptors.response.use(e=>e,e=>(e.response?.status===401&&o(null),Promise.reject(e)));let d={login:async(e,t)=>(await n.post("/auth/login",{email:e,password:t})).data,register:async(e,t)=>(await n.post("/auth/register",{email:e,password:t})).data,getCurrentUser:async()=>(await n.get("/auth/me")).data},c={async uploadDocument(e,t){let r=new FormData;return r.append("file",e),(await n.post("/upload",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t&&e.total&&t(Math.round(100*e.loaded/e.total))}})).data},getDocuments:async()=>(await n.get("/documents")).data.documents,async deleteDocument(e){await n.delete(`/documents/${e}`)},getDocumentStatus:async e=>(await n.get(`/documents/${e}`)).data},u={async askQuestion(e){let t=await fetch(`${l}/ask`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).detail||"Failed to ask question");if(!t.body)throw Error("No response body");return t.body},async *parseStreamingResponse(e){let t=e.getReader(),r=new TextDecoder,a="";try{for(;;){let{done:e,value:s}=await t.read();if(e)break;let l=(a+=r.decode(s,{stream:!0})).split("\n");for(let e of(a=l.pop()||"",l))if(e.startsWith("data: "))try{let t=JSON.parse(e.slice(6));yield t}catch(t){console.warn("Failed to parse streaming data:",e)}}}finally{t.releaseLock()}}},h=e=>e.response?.data?.detail?{detail:e.response.data.detail,status:e.response.status}:e.message?{detail:e.message,status:e.response?.status}:{detail:"An unexpected error occurred",status:500},m=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},x=e=>{let t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},2226:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(997),s=r(498),l=r(6689);class n extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:this.state.error?.message||"An unexpected error occurred"}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reload Page"})})]})})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}}function i({Component:e,pageProps:t}){return a.jsx(n,{children:a.jsx(s.H,{children:a.jsx(e,{...t})})})}r(108)},108:()=>{},4662:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},3952:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},5199:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))})},4163:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(6689);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})}};