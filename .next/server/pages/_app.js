(()=>{var e={};e.id=888,e.ids=[888],e.modules={498:(e,t,r)=>{"use strict";r.d(t,{H:()=>i,a:()=>l});var a=r(6689),o=r.n(a),s=r(6091);let n=(0,a.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,a.useState)({user:null,token:null,loading:!0,error:void 0});(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("auth_token");if(e)try{(0,s.uB)(e);let t=await s.iJ.getCurrentUser();r({user:t,token:e,loading:!1,error:void 0})}catch(e){(0,s.uB)(null),r({user:null,token:null,loading:!1,error:void 0})}else r(e=>({...e,loading:!1}))})()},[]);let i=async(e,t)=>{r(e=>({...e,loading:!0,error:void 0}));try{let a=await s.iJ.login(e,t);(0,s.uB)(a.access_token),r({user:a.user,token:a.access_token,loading:!1,error:void 0})}catch(t){let e=(0,s.zG)(t);throw r(t=>({...t,loading:!1,error:e.detail})),t}},l=async(e,t)=>{r(e=>({...e,loading:!0,error:void 0}));try{let a=await s.iJ.register(e,t);(0,s.uB)(a.access_token),r({user:a.user,token:a.access_token,loading:!1,error:void 0})}catch(t){let e=(0,s.zG)(t);throw r(t=>({...t,loading:!1,error:e.detail})),t}},d={...t,login:i,register:l,logout:()=>{(0,s.uB)(null),r({user:null,token:null,loading:!1,error:void 0})},clearError:()=>{r(e=>({...e,error:void 0}))}};return o().createElement(n.Provider,{value:d},e)},l=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6091:(e,t,r)=>{"use strict";r.d(t,{iJ:()=>d,p6:()=>g,sS:()=>m,tG:()=>c,uB:()=>l,xU:()=>u,zG:()=>h});var a=r(2167),o=r.n(a);let s="https://aiweb1-c965.onrender.com",n=o().create({baseURL:s,timeout:3e4,headers:{"Content-Type":"application/json"}}),i=null,l=e=>{i=e,e?(n.defaults.headers.Authorization=`Bearer ${e}`,localStorage.setItem("auth_token",e)):(delete n.defaults.headers.Authorization,localStorage.removeItem("auth_token"))};n.interceptors.response.use(e=>e,e=>(e.response?.status===401&&l(null),Promise.reject(e)));let d={login:async(e,t)=>(await n.post("/auth/login",{email:e,password:t})).data,register:async(e,t)=>(await n.post("/auth/register",{email:e,password:t})).data,getCurrentUser:async()=>(await n.get("/auth/me")).data},c={async uploadDocument(e,t){let r=new FormData;return r.append("file",e),(await n.post("/upload",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t&&e.total&&t(Math.round(100*e.loaded/e.total))}})).data},getDocuments:async()=>(await n.get("/documents")).data.documents,async deleteDocument(e){await n.delete(`/documents/${e}`)},getDocumentStatus:async e=>(await n.get(`/documents/${e}`)).data},u={async askQuestion(e){let t=await fetch(`${s}/ask`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).detail||"Failed to ask question");if(!t.body)throw Error("No response body");return t.body},async *parseStreamingResponse(e){let t=e.getReader(),r=new TextDecoder,a="";try{for(;;){let{done:e,value:o}=await t.read();if(e)break;let s=(a+=r.decode(o,{stream:!0})).split("\n");for(let e of(a=s.pop()||"",s))if(e.startsWith("data: "))try{let t=JSON.parse(e.slice(6));yield t}catch(t){console.warn("Failed to parse streaming data:",e)}}}finally{t.releaseLock()}}},h=e=>e.response?.data?.detail?{detail:e.response.data.detail,status:e.response.status}:e.message?{detail:e.message,status:e.response?.status}:{detail:"An unexpected error occurred",status:500},m=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},g=e=>{let t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},2226:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(997),o=r(498),s=r(6689);class n extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:this.state.error?.message||"An unexpected error occurred"}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Reload Page"})})]})})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}}function i({Component:e,pageProps:t}){return a.jsx(n,{children:a.jsx(o.H,{children:a.jsx(e,{...t})})})}r(108)},108:()=>{},2167:e=>{"use strict";e.exports=require("axios")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var t=require("../webpack-runtime.js");t.C(e);var r=t(t.s=2226);module.exports=r})();